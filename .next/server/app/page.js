(()=>{var e={};e.id=974,e.ids=[974],e.modules={72:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,6444,23)),Promise.resolve().then(a.t.bind(a,6042,23)),Promise.resolve().then(a.t.bind(a,8170,23)),Promise.resolve().then(a.t.bind(a,9477,23)),Promise.resolve().then(a.t.bind(a,9345,23)),Promise.resolve().then(a.t.bind(a,2089,23)),Promise.resolve().then(a.t.bind(a,6577,23)),Promise.resolve().then(a.t.bind(a,1307,23))},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1135:()=>{},1204:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/project/sandbox/user-workspace/src/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/project/sandbox/user-workspace/src/app/page.tsx","default")},1529:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var r=a(687),t=a(3210),l=a.n(t);function o({costoInicial:e,ganancia:s,gastos:a,publicidad:r,ingresosBrutos:t,costoFijoML:l,mercadolibre:o,costoFinanciero:n,pagoNube:i,iva:c,comisionTiendaNube:d}){let m=1-(a+r+t+o+n+i*(1+c/100)+d)/100;if(m<=0)throw Error("La suma de los porcentajes es demasiado alta, no se puede calcular el precio final.");return(e+s+l)/m}function n({onCalculation:e}){let[s,a]=(0,t.useState)(4800),[l,n]=(0,t.useState)(10),[i,c]=(0,t.useState)(3500),[d,m]=(0,t.useState)(10),[u,x]=(0,t.useState)(5),[b,p]=(0,t.useState)(1800),[h,g]=(0,t.useState)(16),[j,N]=(0,t.useState)(5),[f,v]=(0,t.useState)(5),[y,P]=(0,t.useState)(21),[C,w]=(0,t.useState)(5),[F,S]=(0,t.useState)(null),[k,$]=(0,t.useState)(null),[M,I]=(0,t.useState)(null);return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-md shadow-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Calculadora de Precio"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Inicial",(0,r.jsx)("input",{type:"number",value:s,onChange:e=>a(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Gastos (%)",(0,r.jsx)("input",{type:"number",value:l,onChange:e=>n(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Ganancia ($)",(0,r.jsx)("input",{type:"number",value:i,onChange:e=>c(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Publicidad (%)",(0,r.jsx)("input",{type:"number",value:d,onChange:e=>m(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Ingresos Brutos (%)",(0,r.jsx)("input",{type:"number",value:u,onChange:e=>x(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Fijo ML ($)",(0,r.jsx)("input",{type:"number",value:b,onChange:e=>p(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["MercadoLibre (%)",(0,r.jsx)("input",{type:"number",value:h,onChange:e=>g(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Financiero (%)",(0,r.jsx)("input",{type:"number",value:j,onChange:e=>N(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Pago Nube (%)",(0,r.jsx)("input",{type:"number",value:f,onChange:e=>v(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["IVA (%)",(0,r.jsx)("input",{type:"number",value:y,onChange:e=>P(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Comisi\xf3n Tienda Nube (%)",(0,r.jsx)("input",{type:"number",value:C,onChange:e=>w(Number(e.target.value)),className:"mt-1 p-2 border rounded"})]})]}),(0,r.jsx)("button",{onClick:function(){I(null);try{let a=o({costoInicial:s,ganancia:i,gastos:l,publicidad:d,ingresosBrutos:u,costoFijoML:b,mercadolibre:h,costoFinanciero:j,pagoNube:f,iva:y,comisionTiendaNube:C}),r=f*(1+y/100),t={gastosPesos:a*l/100,publicidadPesos:a*d/100,ingresosBrutosPesos:a*u/100,mercadolibrePesos:a*h/100,costoFinancieroPesos:a*j/100,pagoNubePesos:a*r/100,comisionTiendaNubePesos:a*C/100,costoFijoMLPesos:b,totalCostos:0,gananciaNeta:0};t.totalCostos=t.gastosPesos+t.publicidadPesos+t.ingresosBrutosPesos+t.mercadolibrePesos+t.costoFinancieroPesos+t.pagoNubePesos+t.comisionTiendaNubePesos+t.costoFijoMLPesos,t.gananciaNeta=a-t.totalCostos-s,S(a),$(t),e&&e(a,{costoInicial:s,gastos:l,ganancia:i,publicidad:d,ingresosBrutos:u,costoFijoML:b,mercadolibre:h,costoFinanciero:j,pagoNube:f,iva:y,comisionTiendaNube:C})}catch(s){s instanceof Error&&I(s.message),S(null),$(null),e&&e(null,null)}},className:"mt-6 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Calcular Precio"}),M&&(0,r.jsx)("p",{className:"mt-4 text-red-600",children:M}),null!==F&&!M&&(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold mb-4",children:["Precio Final Calculado: $",F.toFixed(2)]}),k&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Detalle de Costos (en Pesos):"}),(0,r.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["Gastos (",l,"%): $",k.gastosPesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Publicidad (",d,"%): $",k.publicidadPesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Ingresos Brutos (",u,"%): $",k.ingresosBrutosPesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["MercadoLibre (",h,"%): $",k.mercadolibrePesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Costo Financiero (",j,"%): $",k.costoFinancieroPesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Pago Nube (",f,"% + ",y,"% IVA): $",k.pagoNubePesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Comisi\xf3n Tienda Nube (",C,"%): $",k.comisionTiendaNubePesos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Costo Fijo ML: $",k.costoFijoMLPesos.toFixed(2)]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-semibold mb-2",children:"Resumen:"}),(0,r.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["Precio de Venta: $",F.toFixed(2)]}),(0,r.jsxs)("li",{children:["Total Costos: $",k.totalCostos.toFixed(2)]}),(0,r.jsxs)("li",{children:["Costo Inicial: $",s.toFixed(2)]}),(0,r.jsxs)("li",{className:"font-semibold border-t pt-1",children:["Ganancia Neta: $",k.gananciaNeta.toFixed(2)]}),(0,r.jsxs)("li",{className:"text-xs text-gray-600",children:["Ganancia Esperada: $",i.toFixed(2)]})]})]})]})]})})]})}function i({onAddProduct:e,calculatedPrice:s,calculationParams:a}){let[l,o]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[c,d]=(0,t.useState)("minorista"),[m,u]=(0,t.useState)(null),[x,b]=(0,t.useState)(null);return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-6 bg-white rounded-md shadow-md mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Registrar Producto"}),s&&(0,r.jsxs)("div",{className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-md",children:[(0,r.jsxs)("p",{className:"text-green-800 font-medium",children:["Precio calculado disponible: $",s.toFixed(2)]}),(0,r.jsx)("p",{className:"text-green-600 text-sm",children:"Este precio y sus par\xe1metros se guardar\xe1n autom\xe1ticamente con el producto."})]}),(0,r.jsxs)("form",{onSubmit:function(r){if(r.preventDefault(),u(null),b(null),!l.trim()||!n.trim())return void u("Por favor, complete ambos campos: c\xf3digo y nombre.");e({code:l.trim(),name:n.trim(),type:c,price:s||void 0,calculationParams:a||void 0}),o(""),i(""),b("Producto registrado correctamente.")},className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"code",className:"mb-1 font-medium",children:"C\xf3digo"}),(0,r.jsx)("input",{id:"code",type:"text",value:l,onChange:e=>o(e.target.value),className:"p-2 border rounded"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"name",className:"mb-1 font-medium",children:"Nombre"}),(0,r.jsx)("input",{id:"name",type:"text",value:n,onChange:e=>i(e.target.value),className:"p-2 border rounded"})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("label",{htmlFor:"type",className:"mb-1 font-medium",children:"Tipo"}),(0,r.jsxs)("select",{id:"type",value:c,onChange:e=>d(e.target.value),className:"p-2 border rounded",children:[(0,r.jsx)("option",{value:"minorista",children:"Minorista"}),(0,r.jsx)("option",{value:"mayorista",children:"Mayorista"})]})]}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Agregar Producto"})]}),m&&(0,r.jsx)("p",{className:"mt-4 text-red-600",children:m}),x&&(0,r.jsx)("p",{className:"mt-4 text-green-600",children:x})]})}function c({products:e,onUpdateProduct:s,onDeleteProduct:a}){let[n,i]=(0,t.useState)("minorista"),[c,m]=(0,t.useState)(""),[u,x]=(0,t.useState)(null),[b,p]=(0,t.useState)({code:"",name:"",price:""}),[h,g]=(0,t.useState)(null),j=e.filter(e=>e.type===n).filter(e=>e.code.toLowerCase().includes(c.toLowerCase())||e.name.toLowerCase().includes(c.toLowerCase()));function N(){u&&(s(u,{code:b.code,name:b.name,price:b.price?parseFloat(b.price):void 0}),x(null),p({code:"",name:"",price:""}))}function f(){x(null),p({code:"",name:"",price:""})}return(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-md shadow-md mt-8",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Gesti\xf3n de Productos"}),(0,r.jsxs)("div",{className:"flex border-b mb-4",children:[(0,r.jsx)("button",{onClick:()=>i("minorista"),className:`px-4 py-2 font-medium ${"minorista"===n?"border-b-2 border-black text-black":"text-gray-600 hover:text-black"}`,children:"Minorista"}),(0,r.jsx)("button",{onClick:()=>i("mayorista"),className:`px-4 py-2 font-medium ${"mayorista"===n?"border-b-2 border-black text-black":"text-gray-600 hover:text-black"}`,children:"Mayorista"})]}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"Buscar por c\xf3digo o nombre...",value:c,onChange:e=>m(e.target.value),className:"flex-1 p-2 border rounded"}),(0,r.jsx)("button",{onClick:function(){let e=new Blob([["C\xf3digo,Nombre,Precio,Tipo",...j.map(e=>`${e.code},${e.name},${e.price||""},${e.type}`)].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`productos_${n}.csv`,a.click(),window.URL.revokeObjectURL(s)},className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700 transition",children:"Exportar Listado"})]}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full border-collapse border border-gray-300",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-100",children:[(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"C\xf3digo"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Nombre"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Precio"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Par\xe1metros"}),(0,r.jsx)("th",{className:"border border-gray-300 px-4 py-2 text-left",children:"Acciones"})]})}),(0,r.jsx)("tbody",{children:0===j.length?(0,r.jsx)("tr",{children:(0,r.jsxs)("td",{colSpan:5,className:"border border-gray-300 px-4 py-8 text-center text-gray-500",children:["No hay productos registrados en ",n]})}):j.map(e=>(0,r.jsxs)(l().Fragment,{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:u===e.id?(0,r.jsx)("input",{type:"text",value:b.code,onChange:e=>p({...b,code:e.target.value}),className:"w-full p-1 border rounded"}):e.code}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:u===e.id?(0,r.jsx)("input",{type:"text",value:b.name,onChange:e=>p({...b,name:e.target.value}),className:"w-full p-1 border rounded"}):e.name}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:u===e.id?(0,r.jsx)("input",{type:"number",value:b.price,onChange:e=>p({...b,price:e.target.value}),className:"w-full p-1 border rounded",placeholder:"Precio"}):e.price?`$${e.price.toFixed(2)}`:"Sin precio"}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:e.calculationParams?(0,r.jsx)("button",{onClick:()=>g(h===e.id?null:e.id),className:"px-2 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:h===e.id?"Ocultar":"Ver Detalle"}):(0,r.jsx)("span",{className:"text-gray-500 text-sm",children:"Sin par\xe1metros"})}),(0,r.jsx)("td",{className:"border border-gray-300 px-4 py-2",children:u===e.id?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:N,className:"px-2 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Guardar"}),(0,r.jsx)("button",{onClick:f,className:"px-2 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Cancelar"})]}):(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>{x(e.id),p({code:e.code,name:e.name,price:e.price?.toString()||""})},className:"px-2 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Editar"}),(0,r.jsx)("button",{onClick:()=>a(e.id),className:"px-2 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"Eliminar"})]})})]}),h===e.id&&e.calculationParams&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"border border-gray-300 px-4 py-4 bg-gray-50",children:(0,r.jsx)(d,{product:e,onUpdate:a=>{let r=o(a);s(e.id,{calculationParams:a,price:r})}})})})]},e.id))})]})})]})}function d({product:e,onUpdate:s}){let[a,l]=(0,t.useState)(!1),[o,n]=(0,t.useState)(e.calculationParams),[i,c]=(0,t.useState)(null);return a?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Editar Par\xe1metros de C\xe1lculo"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:function(){c(null);try{s(o),l(!1)}catch(e){e instanceof Error&&c(e.message)}},className:"px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:"Guardar"}),(0,r.jsx)("button",{onClick:function(){n(e.calculationParams),l(!1),c(null)},className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",children:"Cancelar"})]})]}),i&&(0,r.jsx)("p",{className:"text-red-600 text-sm mb-4",children:i}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Costo Inicial"}),(0,r.jsx)("input",{type:"number",value:o.costoInicial,onChange:e=>n({...o,costoInicial:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Gastos (%)"}),(0,r.jsx)("input",{type:"number",value:o.gastos,onChange:e=>n({...o,gastos:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Ganancia ($)"}),(0,r.jsx)("input",{type:"number",value:o.ganancia,onChange:e=>n({...o,ganancia:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Publicidad (%)"}),(0,r.jsx)("input",{type:"number",value:o.publicidad,onChange:e=>n({...o,publicidad:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Ingresos Brutos (%)"}),(0,r.jsx)("input",{type:"number",value:o.ingresosBrutos,onChange:e=>n({...o,ingresosBrutos:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Costo Fijo ML ($)"}),(0,r.jsx)("input",{type:"number",value:o.costoFijoML,onChange:e=>n({...o,costoFijoML:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"MercadoLibre (%)"}),(0,r.jsx)("input",{type:"number",value:o.mercadolibre,onChange:e=>n({...o,mercadolibre:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Costo Financiero (%)"}),(0,r.jsx)("input",{type:"number",value:o.costoFinanciero,onChange:e=>n({...o,costoFinanciero:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Pago Nube (%)"}),(0,r.jsx)("input",{type:"number",value:o.pagoNube,onChange:e=>n({...o,pagoNube:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"IVA (%)"}),(0,r.jsx)("input",{type:"number",value:o.iva,onChange:e=>n({...o,iva:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-medium",children:"Comisi\xf3n Tienda Nube (%)"}),(0,r.jsx)("input",{type:"number",value:o.comisionTiendaNube,onChange:e=>n({...o,comisionTiendaNube:Number(e.target.value)}),className:"mt-1 p-2 border rounded text-sm"})]})]})]})]}):(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h4",{className:"font-semibold",children:"Par\xe1metros de C\xe1lculo"}),(0,r.jsx)("button",{onClick:()=>l(!0),className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",children:"Editar Par\xe1metros"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["Costo Inicial: $",e.calculationParams.costoInicial]}),(0,r.jsxs)("li",{children:["Gastos: ",e.calculationParams.gastos,"%"]}),(0,r.jsxs)("li",{children:["Ganancia: $",e.calculationParams.ganancia]}),(0,r.jsxs)("li",{children:["Publicidad: ",e.calculationParams.publicidad,"%"]}),(0,r.jsxs)("li",{children:["Ingresos Brutos: ",e.calculationParams.ingresosBrutos,"%"]}),(0,r.jsxs)("li",{children:["Costo Fijo ML: $",e.calculationParams.costoFijoML]})]})}),(0,r.jsx)("div",{children:(0,r.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["MercadoLibre: ",e.calculationParams.mercadolibre,"%"]}),(0,r.jsxs)("li",{children:["Costo Financiero: ",e.calculationParams.costoFinanciero,"%"]}),(0,r.jsxs)("li",{children:["Pago Nube: ",e.calculationParams.pagoNube,"%"]}),(0,r.jsxs)("li",{children:["IVA: ",e.calculationParams.iva,"%"]}),(0,r.jsxs)("li",{children:["Comisi\xf3n Tienda Nube: ",e.calculationParams.comisionTiendaNube,"%"]})]})})]})]})}function m({products:e,onUpdateProducts:s}){let[a,l]=(0,t.useState)(!1),[n,i]=(0,t.useState)({costoInicial:4800,gastos:10,ganancia:3500,publicidad:10,ingresosBrutos:5,costoFijoML:1800,mercadolibre:16,costoFinanciero:5,pagoNube:5,iva:21,comisionTiendaNube:5}),[c,d]=(0,t.useState)("all"),[m,u]=(0,t.useState)(null),[x,b]=(0,t.useState)(null);return a?(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-md shadow-md mt-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Edici\xf3n Masiva de Par\xe1metros"}),(0,r.jsx)("button",{onClick:()=>l(!1),className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700 transition",children:"Cerrar"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Aplicar cambios a:"}),(0,r.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"p-2 border rounded",children:[(0,r.jsx)("option",{value:"all",children:"Todos los productos"}),(0,r.jsx)("option",{value:"minorista",children:"Solo productos minoristas"}),(0,r.jsx)("option",{value:"mayorista",children:"Solo productos mayoristas"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Inicial (solo para referencia)",(0,r.jsx)("input",{type:"number",value:n.costoInicial,onChange:e=>i({...n,costoInicial:Number(e.target.value)}),className:"mt-1 p-2 border rounded bg-gray-100",disabled:!0}),(0,r.jsx)("span",{className:"text-xs text-gray-500 mt-1",children:"Cada producto mantendr\xe1 su costo inicial original"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Gastos (%)",(0,r.jsx)("input",{type:"number",value:n.gastos,onChange:e=>i({...n,gastos:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Ganancia ($)",(0,r.jsx)("input",{type:"number",value:n.ganancia,onChange:e=>i({...n,ganancia:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Publicidad (%)",(0,r.jsx)("input",{type:"number",value:n.publicidad,onChange:e=>i({...n,publicidad:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Ingresos Brutos (%)",(0,r.jsx)("input",{type:"number",value:n.ingresosBrutos,onChange:e=>i({...n,ingresosBrutos:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Fijo ML ($)",(0,r.jsx)("input",{type:"number",value:n.costoFijoML,onChange:e=>i({...n,costoFijoML:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["MercadoLibre (%)",(0,r.jsx)("input",{type:"number",value:n.mercadolibre,onChange:e=>i({...n,mercadolibre:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Costo Financiero (%)",(0,r.jsx)("input",{type:"number",value:n.costoFinanciero,onChange:e=>i({...n,costoFinanciero:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Pago Nube (%)",(0,r.jsx)("input",{type:"number",value:n.pagoNube,onChange:e=>i({...n,pagoNube:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["IVA (%)",(0,r.jsx)("input",{type:"number",value:n.iva,onChange:e=>i({...n,iva:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]}),(0,r.jsxs)("label",{className:"flex flex-col",children:["Comisi\xf3n Tienda Nube (%)",(0,r.jsx)("input",{type:"number",value:n.comisionTiendaNube,onChange:e=>i({...n,comisionTiendaNube:Number(e.target.value)}),className:"mt-1 p-2 border rounded"})]})]}),(0,r.jsx)("div",{className:"flex gap-4 mb-4",children:(0,r.jsx)("button",{onClick:function(){u(null),b(null);try{let a=e.map(e=>{if("all"!==c&&e.type!==c||!e.calculationParams)return e;let s={...n,costoInicial:e.calculationParams.costoInicial},a=o(s);return{...e,price:a,calculationParams:s}});s(a);let r=e.filter(e=>("all"===c||e.type===c)&&e.calculationParams).length;b(`Se actualizaron ${r} productos correctamente.`)}catch(e){e instanceof Error&&u(e.message)}},className:"px-6 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition",children:"Aplicar Cambios Masivos"})}),m&&(0,r.jsx)("p",{className:"text-red-600 mb-4",children:m}),x&&(0,r.jsx)("p",{className:"text-green-600 mb-4",children:x}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Vista Previa:"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Productos que ser\xe1n afectados: ",e.filter(e=>("all"===c||e.type===c)&&e.calculationParams).length]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("strong",{children:"Nota:"})," El costo inicial de cada producto se mantendr\xe1, solo se actualizar\xe1n los dem\xe1s par\xe1metros."]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Ejemplo de precio con par\xe1metros nuevos: $",(()=>{try{return o(n).toFixed(2)}catch{return"Error en c\xe1lculo"}})()," (usando costo inicial de ejemplo: $",n.costoInicial,")"]})]})]}):(0,r.jsxs)("div",{className:"max-w-6xl mx-auto p-6 bg-white rounded-md shadow-md mt-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold",children:"Edici\xf3n Masiva de Par\xe1metros"}),(0,r.jsx)("button",{onClick:()=>l(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Abrir Editor Masivo"})]}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Modifica par\xe1metros de c\xe1lculo y actualiza precios de m\xfaltiples productos a la vez."})]})}let u=require("crypto"),x={randomUUID:u.randomUUID},b=new Uint8Array(256),p=b.length,h=[];for(let e=0;e<256;++e)h.push((e+256).toString(16).slice(1));let g=function(e,s,a){if(x.randomUUID&&!s&&!e)return x.randomUUID();let r=(e=e||{}).random??e.rng?.()??(p>b.length-16&&((0,u.randomFillSync)(b),p=0),b.slice(p,p+=16));if(r.length<16)throw Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,s){if((a=a||0)<0||a+16>s.length)throw RangeError(`UUID byte range ${a}:${a+15} is out of buffer bounds`);for(let e=0;e<16;++e)s[a+e]=r[e];return s}return function(e,s=0){return(h[e[s+0]]+h[e[s+1]]+h[e[s+2]]+h[e[s+3]]+"-"+h[e[s+4]]+h[e[s+5]]+"-"+h[e[s+6]]+h[e[s+7]]+"-"+h[e[s+8]]+h[e[s+9]]+"-"+h[e[s+10]]+h[e[s+11]]+h[e[s+12]]+h[e[s+13]]+h[e[s+14]]+h[e[s+15]]).toLowerCase()}(r)};function j(){let[e,s]=(0,t.useState)([]),[a,l]=(0,t.useState)({price:null,params:null});return(0,r.jsxs)("main",{className:"max-w-7xl mx-auto p-6",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Sistema de Calculadora y Gesti\xf3n de Productos"}),(0,r.jsx)(n,{onCalculation:(e,s)=>l({price:e,params:s})}),(0,r.jsx)(i,{onAddProduct:function(e){let a={id:g(),code:e.code,name:e.name,type:e.type,price:e.price,calculationParams:e.calculationParams};s(e=>[...e,a])},calculatedPrice:a.price,calculationParams:a.params}),(0,r.jsx)(m,{products:e,onUpdateProducts:function(e){s(e)}}),(0,r.jsx)(c,{products:e,onUpdateProduct:function(e,a){s(s=>s.map(s=>s.id===e?{...s,...a}:s))},onDeleteProduct:function(e){s(s=>s.filter(s=>s.id!==e))}})]})}},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3099:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=a(5239),t=a(8088),l=a(8170),o=a.n(l),n=a(893),i={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);a.d(s,i);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,1204)),"/project/sandbox/user-workspace/src/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,4431)),"/project/sandbox/user-workspace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,5284,23)),"next/dist/client/components/unauthorized-error"]}],d=["/project/sandbox/user-workspace/src/app/page.tsx"],m={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3253:()=>{},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3624:(e,s,a)=>{Promise.resolve().then(a.t.bind(a,6346,23)),Promise.resolve().then(a.t.bind(a,7924,23)),Promise.resolve().then(a.t.bind(a,5656,23)),Promise.resolve().then(a.t.bind(a,99,23)),Promise.resolve().then(a.t.bind(a,8243,23)),Promise.resolve().then(a.t.bind(a,8827,23)),Promise.resolve().then(a.t.bind(a,2763,23)),Promise.resolve().then(a.t.bind(a,7173,23))},3873:e=>{"use strict";e.exports=require("path")},4431:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n,metadata:()=>o});var r=a(7413),t=a(7339),l=a.n(t);a(1135);let o={title:"Sistema de Calculadora y Gesti\xf3n de Productos",description:"Sistema para calcular precios y gestionar productos minoristas y mayoristas"};function n({children:e}){return(0,r.jsx)("html",{lang:"es",children:(0,r.jsx)("body",{className:l().className,children:(0,r.jsx)("div",{className:"min-h-screen bg-background",children:e})})})}},4874:(e,s,a)=>{Promise.resolve().then(a.bind(a,1529))},5109:()=>{},6722:(e,s,a)=>{Promise.resolve().then(a.bind(a,1204))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[435],()=>a(3099));module.exports=r})();